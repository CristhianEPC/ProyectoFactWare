
<!-- Content Header (Page header) -->
<section class="content-header">
    <div class="container-fluid">
        <div class="row mb-2">
            <div class="col-sm-6">
                <h1></h1>
            </div>
            <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                    <li class="breadcrumb-item"><a href="#">Inicio</a></li>
                    <li class="breadcrumb-item active">Ventas</li>
                </ol>
            </div>
        </div>
    </div>
    <!-- /.container-fluid -->
  </section>
<!-- Main content -->
<div class="content">

    <div class="container-fluid">

        <div class="row mb-3">


           

            <div class="col-md-9">

                <div class="card card-gray shadow">

                    <div class="card-body p-3">

                        <div class="row">
                            <!-- INPUT PARA INGRESO DEL CODIGO DE BARRAS O DESCRIPCION DEL PRODUCTO -->


                            <div class="col-md-12 mb-3">

                                <div class="form-group mb-2">

                                    <label class="col-form-label" for="iptCodigoVenta">
                                        <i class="fas fa-barcode fs-6"></i>
                                   <h2>  <span class="small">Cliente</span> </h2>   
                                    </label>

                            <input type="text" class="form-control form-control-sm" id="iptCodigoVenta" name="filterPost" 
                             placeholder="Ingrese el nombre del cliente" [(ngModel)]="filterPost">
                                </div>

                            </div>


                            <!-- LISTADO QUE CONTIENE LOS PRODUCTOS QUE SE VAN AGREGANDO PARA LA COMPRA -->
                            <div class="col-md-12">

                                <table class="table table-hover">
                                    <thead>
                                        <tr class="text-center">
                                            <th>ID</th>
                                            <th>CÉDULA</th>
                                            <th>NOMBRE Y APELLIDO</th>
                                            <th>TELEFONO</th>
                                          
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="text-center" *ngFor="let item of personas  | buscarClient:filterPost">
                                            <td>{{item.id_persona}}</td>
                                            <td>{{item.cedula}} </td>
                                            <td>{{item.nombre_persona}} {{item.apellido_persona}}</td>
                                            <td>{{item.telefono_persona}}</td>
                                            <td>
                                                <button class="btn btn-secondary">Seleccionar</button>
                                            </td>
                                            
                                        </tr>
                                    </tbody>
                                </table>
                                <!-- / table -->
                            </div>
                            <!-- /.col -->
                        </div>
                    </div> <!-- ./ end card-body -->
                </div>

            </div>















            <div class="col-md-3">

                <div class="card card-gray shadow">

                    <!-- <h5 class="card-header py-1 bg-primary text-white text-center">
                        Total Venta: S./ <span id="totalVentaRegistrar">0.00</span>
                    </h5> -->

                    <div class="card-body p-2">

                        <!-- SELECCIONAR TIPO DE DOCUMENTO -->
                        <div class="form-group mb-2">

                            <label class="col-form-label p-0" for="selCategoriaReg">
                                <i class="fas fa-file-alt fs-6"></i>
                                <span class="small">Documento</span><span class="text-danger">*</span>
                            </label>

                            <select class="form-select form-select-sm" aria-label=".form-select-sm example" id="selDocumentoVenta" disabled>
                                <option value="0">Seleccione Documento</option>
                                <option value="1" selected="true">Boleta</option>
                                <option value="2">Factura</option>
                                <option value="3">Ticket</option>
                            </select>

                            <span id="validate_categoria" class="text-danger small fst-italic" style="display:none">
                                Debe Seleccione documento
                            </span>

                        </div>

                        <!-- SELECCIONAR TIPO DE PAGO -->
                        <div class="form-group mb-2">

                            <label class="col-form-label p-0" for="selCategoriaReg">
                                <i class="fas fa-money-bill-alt fs-6"></i>
                                <span class="small">Tipo Pago</span><span class="text-danger">*</span>
                            </label>

                            <select class="form-select form-select-sm" aria-label=".form-select-sm example" id="selTipoPago">
                                <option value="0">Seleccione Tipo Pago</option>
                                <option value="1" selected="true">Efectivo</option>
                                <option value="2">Yape</option>
                                <option value="3">Plin</option>
                                <option value="4">Transferencia</option>
                            </select>

                            <span id="validate_categoria" class="text-danger small fst-italic" style="display:none">
                                Debe Ingresar tipo de pago
                            </span>

                        </div>

                        <!-- SERIE Y NRO DE BOLETA -->
                        <div class="form-group">

                            <div class="row">

                                <div class="col-md-4">

                                    <label for="iptNroSerie" class="p-0 m-0">Serie</label>

                                    <input type="text" min="0" name="iptEfectivo" id="iptNroSerie" class="form-control form-control-sm" placeholder="nro Serie" disabled>
                                </div>

                                <div class="col-md-8">

                                    <label for="iptNroVenta" class="p-0 m-0">Correlativo</label>

                                    <input type="text" min="0" name="iptEfectivo" id="iptNroVenta" class="form-control form-control-sm" placeholder="Nro Venta" disabled>

                                </div>

                            </div>

                        </div>

                        <!-- INPUT DE EFECTIVO ENTREGADO -->
                        <div class="form-group">
                            <label for="iptEfectivoRecibido" class="p-0 m-0">Efectivo recibido</label>
                            <input type="number" min="0" name="iptEfectivo" id="iptEfectivoRecibido" class="form-control form-control-sm" placeholder="Cantidad de efectivo recibida">
                        </div>

                        <!-- INPUT CHECK DE EFECTIVO EXACTO -->
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="chkEfectivoExacto">
                            <label class="form-check-label" for="chkEfectivoExacto">
                                Efectivo Exacto
                            </label>
                        </div>

                        <!-- MOSTRAR MONTO EFECTIVO ENTREGADO Y EL VUELTO -->
                        <div class="row mt-2">

                            <div class="col-12">
                                <h6 class="text-start fw-bold">Monto Efectivo: S./ <span id="EfectivoEntregado">0.00</span></h6>
                            </div>

                            <div class="col-12">
                                <h6 class="text-start text-danger fw-bold">Vuelto: S./ <span id="Vuelto">0.00</span>
                                </h6>
                            </div>

                        </div>

                        <!-- MOSTRAR EL SUBTOTAL, IGV Y TOTAL DE LA VENTA -->
                        <div class="row fw-bold">

                            <div class="col-md-7">
                                <span>OPE. GRAVADAS</span>
                            </div>
                            <div class="col-md-5 text-right">
                                S./ <span class="" id="">0.00</span>
                            </div>

                            <div class="col-md-7">
                                <span>OPE. INAFECTAS</span>
                            </div>
                            <div class="col-md-5 text-right">
                                S./ <span class="" id="">0.00</span>
                            </div>

                            <div class="col-md-7">
                                <span>OPE. EXONERADAS</span>
                            </div>
                            <div class="col-md-5 text-right">
                                S./ <span class="" id="">0.00</span>
                            </div>

                            <div class="col-md-7">
                                <span>IGV (18%)</span>
                            </div>
                            <div class="col-md-5 text-right">
                                S./ <span class="" id="boleta_igv">0.00</span>
                            </div>

                            <div class="col-md-7">
                                <span>SUBTOTAL</span>
                            </div>
                            <div class="col-md-5 text-right">
                                S./ <span class="" id="boleta_subtotal">0.00</span>
                            </div>

                            <div class="col-md-7">
                                <span>TOTAL</span>
                            </div>
                            <div class="col-md-5 text-right">
                                S./ <span class="" id="boleta_total">0.00</span>
                            </div>
                        </div>

                    </div><!-- ./ CARD BODY -->

                </div><!-- ./ CARD -->
            </div>




















            <div class="col-md-9">

                <div class="card card-gray shadow">

                    <div class="card-body p-3">

                        <div class="row">
                            <!-- INPUT PARA INGRESO DEL CODIGO DE BARRAS O DESCRIPCION DEL PRODUCTO -->


                            <div class="col-md-12 mb-3">

                                <div class="form-group mb-2">

                                    <label class="col-form-label" for="iptCodigoVenta">
                                        <i class="fas fa-barcode fs-6"></i>
                                    <h1>   <span class="small">Productos</span></h1> 
                                    </label>

                            <input type="text" class="form-control form-control-sm" id="iptCodigoVenta" name="filterPost" 
                             placeholder="Ingrese el código de barras o el nombre del producto" [(ngModel)]="filterPost">
                                </div>

                            </div>


                            <!-- ETIQUETA QUE MUESTRA LA SUMA TOTAL DE LOS PRODUCTOS AGREGADOS AL LISTADO -->
                            <div class="col-md-7 mb-3 rounded-3" style="background-color: gray;color: white;text-align:center;border:1px solid gray;">
                                <h2 class="fw-bold m-0">S/ <span class="fw-bold" id="totalVenta">0.00</span></h2>
                            </div>

                            <!-- BOTONES PARA VACIAR LISTADO Y COMPLETAR LA VENTA -->
                            <div class="col-md-5 text-right">
                                <button class="btn btn-primary" id="btnIniciarVenta">
                                    <i class="fas fa-shopping-cart"></i> Realizar Venta
                                </button>
                                <button class="btn btn-danger" id="btnVaciarListado">
                                    <i class="far fa-trash-alt"></i> Vaciar Listado
                                </button>
                            </div>

                            <!-- LISTADO QUE CONTIENE LOS PRODUCTOS QUE SE VAN AGREGANDO PARA LA COMPRA -->
                            <div class="col-md-12">

                                <table id="lstProductosVenta" class="display nowrap table-striped w-100 shadow ">
                                    <thead class="bg-gray text-left fs-6">
                                        <tr>
                                            <th>ID</th>
                                            <th>NOMBRE</th>
                                            <th>DESCRIPCION</th>
                                            <th>CODIGO BARRAS</th>
                                            <th>COSTO PRODUCTO</th>
                                            <th>PVP</th>
                                            <th>UTILIDAD</th>
                                            <th>ESTADO IVA </th>
                                        </tr>
                                    </thead>
                                    <tbody class="small text-left fs-6">

                                        <tr *ngFor="let Producto of productos  | buscarproducvent:filterPost"  >
                                            <td>{{Producto.id_producto}}</td>
                                            <td>{{Producto.nombre_producto}}</td>
                                            <td>{{Producto.descripcion_producto}}</td>
                                            <td>{{Producto.codigoBarras_producto}}</td>
                                            <td>{{Producto.costo_producto}}</td>
                                            <td>{{Producto.pvp_producto}}</td>
                                            <td>{{Producto.utilidad_producto}}</td>
                                            <td>{{Producto.estadoIVA_producto}}</td>
                                            <td>
                                                <button class="btn btn-secondary">Seleccionar</button>
                                            </td>
                                        </tr>


                                    </tbody>
                                </table>
                                <!-- / table -->
                            </div>
                            <!-- /.col -->
                        </div>
                    </div> <!-- ./ end card-body -->
                </div>

            </div>



 




        </div>
    </div>

</div>